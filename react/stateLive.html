<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <script src="https://cdn.bootcss.com/react/15.4.2/react.min.js"></script>
    <script src="https://cdn.bootcss.com/react/15.4.2/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
</head>
<body>
<div id="example"></div>
<script type="text/babel">
    //第二种写法
   function Clock(props) {
       return (
           <div>
               <h1>hello,world</h1>
               <h2>It's {props.date.toLocaleTimeString()}</h2>
           </div>
       );
   }
   function tick(){
       ReactDOM.render(
           <Clock  date={new Date()}/>,
           document.getElementById("example")
       )
   }
   //setInterval(tick,1000)
    class FormateDate extends React.Component{
       constructor(props){
           super(props);
       }
       render(){
           return(
               <p>{this.props.date.toLocaleTimeString()}</p>
           )
       }
    }
    class NewClock extends React.Component{
        constructor(props){
            super(props);
            this.state={
                        date:new Date(),
                        clickTime:false
                    }
            this.handleClick = this.handleClick.bind(this);//bind绑定
        }
        componentDidMount(){
            this.timeID-=setInterval(
                ()=>this.tickTok(),
                1000
            );
        }
        componentWillUnmount(){
            clearInterval(this.timeID)

        }
        tickTok(){
            this.setState({
                date:new Date()
            })
        }
         handleClick(){
             this.setState(prevState => ({
                 clickTime: !prevState.clickTime
             }));
        }
        handleClickTow=()=>{
            this.setState(prevState => ({
            clickTime: !prevState.clickTime
            }));
            console.log(this)
        }
        handleClickThree(){
            this.setState(prevState => ({
                clickTime: !prevState.clickTime
            }));
        }
        render(){
            return (
                <div>
                    <button onClick={this.handleClickTow} >{this.state.clickTime?"yes":"no"}</button>
                    <button onClick={(e)=>this.handleClickThree(e)} >{this.state.clickTime?"yes":"no"}</button>
                    <h1>hello new world</h1>
                    <h2>
                        It's
                        <FormateDate date={this.state.date}/>
                    </h2>
                </div>
            )
        }
    };
    ReactDOM.render(
        <NewClock  />,
        document.getElementById("example")
    )

</script>
</body>
<style>

</style>
</html>